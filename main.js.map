{"version":3,"file":"main.js","mappings":"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","sources":["webpack://ahj-diploma/webpack/bootstrap","webpack://ahj-diploma/./src/js/utils/element.js","webpack://ahj-diploma/webpack/runtime/publicPath","webpack://ahj-diploma/./src/js/components/icons.js","webpack://ahj-diploma/./src/js/components/Message.js","webpack://ahj-diploma/./src/js/utils/textfilter.js","webpack://ahj-diploma/./src/js/utils/createMessageBody.js","webpack://ahj-diploma/./src/js/components/Chatbot.js","webpack://ahj-diploma/./src/js/utils/changeHandler.js","webpack://ahj-diploma/./src/js/utils/dragndrop.js","webpack://ahj-diploma/./src/js/components/constants.js","webpack://ahj-diploma/./src/js/components/Loader.js","webpack://ahj-diploma/./src/js/components/AddFilePopup.js","webpack://ahj-diploma/./src/js/utils/bytesToSIze.js","webpack://ahj-diploma/./src/js/components/botdata.js","webpack://ahj-diploma/./src/js/utils/resize.js","webpack://ahj-diploma/./src/js/utils/sendMessage.js","webpack://ahj-diploma/./src/js/components/AudioVideoRecorder.js","webpack://ahj-diploma/./src/js/app.js","webpack://ahj-diploma/./src/js/utils/createPinned.js","webpack://ahj-diploma/./src/js/utils/getPosition.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// создание DOM-элемента\n\nexport default function element(tagname, classname = '', content = '') {\n  const el = document.createElement(tagname);\n  el.className = classname;\n  if (content) el.textContent = content;\n  return el;\n}\n","__webpack_require__.p = \"\";","import fileIcon from '../../img/icons/file.svg';\nimport imageIcon from '../../img/icons/file-image.svg';\nimport audioIcon from '../../img/icons/file-audio.svg';\nimport videoIcon from '../../img/icons/file-video.svg';\n\n// иконки для типов файла\n\nconst icons = {\n  file: fileIcon,\n  image: imageIcon,\n  audio: audioIcon,\n  video: videoIcon,\n};\n\nexport default icons;\n","import textfilter from '../utils/textfilter';\nimport element from '../utils/element';\nimport icons from './icons';\n\n// класс для обработки входящих с сервера сообщений по содержимому контенту, взаимодействие с закреплением и добавлением в избранное\n\nexport default class Message {\n  constructor(data, server) {\n    this.server = server;\n    this.id = data.id;\n    this.usertype = data.usertype;\n    this.username = data.username;\n    this.date = new Date(data.date);\n    this.content = data.content;\n    this.favorite = data.favorite;\n    this.pinned = data.pinned;\n  }\n\n  render() {\n    this.messageEl = element('li', 'messanger__message message-messanger');\n    this.messageEl.classList.add(\n      this.usertype === 'bot' ? 'bot-message' : 'user-message'\n    );\n    this.messageEl.dataset.id = this.id;\n\n    this.messageInfoEl = element('div', 'message-messanger__info');\n    this.messageAuthorEl = element(\n      'span',\n      'message-messanger__author',\n      this.usertype !== 'bot' ? 'You' : this.username\n    );\n    this.messageDateEl = element(\n      'span',\n      'message-messanger__date',\n      this.formatDate(this.date)\n    );\n    this.messageInfoEl.appendChild(this.messageAuthorEl);\n    this.messageInfoEl.appendChild(this.messageDateEl);\n\n    this.messageContentEl = element(\n      'div',\n      'message-messanger__content content'\n    );\n    this.contentMediaEl = element('div', 'content__media');\n    this.mediaImagesEl = element('div', 'content__images');\n    this.checkType(\n      this.messageContentEl,\n      this.contentMediaEl,\n      this.mediaImagesEl\n    );\n    this.messageEl.appendChild(this.messageInfoEl);\n    this.messageEl.appendChild(this.messageContentEl);\n    this.messageContentEl.appendChild(this.contentMediaEl);\n    this.contentMediaEl.appendChild(this.mediaImagesEl);\n\n    this.messagesControllers = element(\n      'div',\n      'message-messanger__controllers message-controllers'\n    );\n    this.pinBtn = element('button', 'message-controllers__pin messanger-btn');\n    this.favoriteBtn = element(\n      'button',\n      'message-controllers__favorite messanger-btn'\n    );\n    if (this.favorite) {\n      this.favoriteBtn.classList.add('added');\n    }\n    this.messagesControllers.appendChild(this.pinBtn);\n    this.messagesControllers.appendChild(this.favoriteBtn);\n\n    this.pinBtn.addEventListener('click', () => this.pin());\n    this.favoriteBtn.addEventListener('click', () => this.addToFavorite());\n\n    this.messageEl.appendChild(this.messagesControllers);\n    ``;\n    return this.messageEl;\n  }\n\n  checkType(contentEl, mediaEl, mediaImages) {\n    this.content.forEach((el) => {\n      switch (el.type) {\n        case 'text':\n          const textEl = element('span', 'content__text');\n          textEl.innerHTML = textfilter(el.body);\n          contentEl.appendChild(textEl);\n          break;\n        case 'video':\n          const videoWrapper = element('div', 'content__video');\n          const videoEl = element('video');\n          videoEl.src = el.body;\n          videoEl.controls = true;\n          videoWrapper.appendChild(videoEl);\n          const videoLoader = element(\n            'a',\n            'content__download-btn messanger-btn'\n          );\n          videoLoader.href = el.body;\n          videoLoader.download = el.filename;\n          videoWrapper.appendChild(videoLoader);\n          mediaEl.appendChild(videoWrapper);\n          break;\n        case 'audio':\n          const audioWrapper = element('div', 'content__audio');\n          const audioTitle = element(\n            'span',\n            'content__audio-name',\n            el.filename\n          );\n          audioWrapper.appendChild(audioTitle);\n          const audioEl = element('audio');\n          audioEl.src = el.body;\n          audioEl.controls = 'true';\n          audioWrapper.appendChild(audioEl);\n          const audioLoader = element(\n            'a',\n            'content__download-btn messanger-btn'\n          );\n          audioLoader.href = el.body;\n          audioLoader.download = el.filename;\n          audioWrapper.appendChild(audioLoader);\n          mediaEl.appendChild(audioWrapper);\n          break;\n        case 'location':\n          const locationEl = element('span', 'content__location');\n          locationEl.innerHTML = `📍 Your current location - <a href=\"https://www.google.com/maps/search/?api=1&query=${el.body}\" target=\"_blank\">${el.body}</a>`;\n          contentEl.appendChild(locationEl);\n          break;\n        case 'image':\n          const imageWrapper = element('div', 'content__image');\n          const imageEl = element('img');\n          imageWrapper.appendChild(imageEl);\n          imageEl.src = el.body;\n          const imgLoader = element('a', 'content__download-btn messanger-btn');\n          imgLoader.href = el.body;\n          imgLoader.download = el.filename;\n          imageWrapper.appendChild(imgLoader);\n          mediaImages.appendChild(imageWrapper);\n          break;\n        default:\n          const fileWrapper = element('div', 'content__file');\n          const fileEl = element('img')\n          fileEl.src = icons.file;\n          fileWrapper.appendChild(fileEl);\n          const fileTitle = element('span', 'content__file-name', el.filename);\n          fileWrapper.appendChild(fileTitle);\n          const fileLoader = element('a', 'content__download-btn messanger-btn');\n          fileLoader.href = el.body;\n          fileLoader.download = el.filename;\n          fileWrapper.appendChild(fileLoader); \n          contentEl.appendChild(fileWrapper);\n          return;\n      }\n    });\n  }\n\n  addToFavorite() {\n    if (this.favorite) {\n      this.favorite = false;\n      this.favoriteBtn.classList.remove('added');\n    } else {\n      this.favorite = true;\n      this.favoriteBtn.classList.add('added');\n    }\n    this.server.send(\n      JSON.stringify({\n        addToFavorite: true,\n        favorite: this.favorite,\n        id: this.messageEl.dataset.id,\n      })\n    );\n  }\n\n  pin() {\n    this.pinned = true;\n    this.server.send(\n      JSON.stringify({\n        pinMessage: true,\n        pinned: this.pinned,\n        id: this.messageEl.dataset.id,\n      })\n    );\n  }\n\n  formatDate(date) {\n    const hour = date.getHours() < 10 ? `0${date.getHours()}` : date.getHours();\n    const minute =\n      date.getMinutes() < 10 ? `0${date.getMinutes()}` : date.getMinutes();\n    const formattedDate = `${hour}:${minute}`;\n\n    return formattedDate;\n  }\n}\n","// фильтрация вводимого сообщение на наличие ссылок\n\nexport default function (str) {\n  var re = /([^\\\"=]{2}|^)((https?|ftp):\\/\\/\\S+[^\\s.,> )\\];'\\\"!?])/;\n  var subst = '$1<a href=\"$2\" target=\"_blank\">$2</a>';\n  return str.replace(re, subst);\n}\n","// создает тело сообщения, где:\n// usertype - тип юзера (бот/пользователь)\n// content - контент сообщения\n// botname - имя бота\n\nexport default function createMessageBody(usertype, content, botname = '') {\n  return JSON.stringify({\n    usertype: usertype,\n    botname: botname,\n    content: content,\n    pinned: false,\n    favorite: false,\n  });\n}\n","import createMessageBody from '../utils/createMessageBody';\n\n// класс для обработки ботом входящих команд\n\nexport default class Chatbot {\n  constructor(botname, data, server) {\n    this.botname = botname;\n    this.description = `Привет! Меня зовут ${botname}. Если ты заскучал, я помогу тебе выбрать какой-нибудь зарубежный сериал или фильм и даже игру на ПК. Чтобы обратиться ко мне, начни свое сообщение со слэша (\"/\") и напиши одну из команд: \"hello\", \"bye\", \"serial\", \"film\", \"game\". Например: \"/serial\".`;\n    this.greeting = data?.greeting;\n    this.goodbye = data?.goodbye;\n    this.serials = data?.serials;\n    this.games = data?.games;\n    this.server = server;\n\n    this.greet();\n  }\n\n  reply(request) {\n    if (!/^\\//.test(request)) return;\n    let message;\n\n    switch (request) {\n      case '/hello':\n        message = createMessageBody(\n          'bot',\n          [{ type: 'text', body: this.random(this.greeting) }],\n          this.botname\n        );\n        this.server.send(message);\n        break;\n\n      case '/bye':\n        message = createMessageBody(\n          'bot',\n          [{ type: 'text', body: this.random(this.goodbye) }],\n          this.botname\n        );\n        this.server.send(message);\n        break;\n\n      case '/serial':\n        message = createMessageBody(\n          'bot',\n          [{ type: 'text', body: this.random(this.serials) }],\n          this.botname\n        );\n        this.server.send(message);\n        break;\n\n      case '/film':\n        fetch('https://kinopoiskapiunofficial.tech/api/v2.2/films', {\n          method: 'GET',\n          headers: {\n            'X-API-KEY': '2abdabef-3994-4107-8e8d-39dd2e2edcda',\n            'Content-Type': 'application/json',\n          },\n        })\n          .then((res) => res.json())\n          .then((json) => {\n            const film = this.random(json.items);\n            message = createMessageBody(\n              'bot',\n              [\n                { type: 'text', body: film.nameOriginal },\n                { type: 'image', body: film.posterUrlPreview },\n              ],\n              this.botname\n            );\n            this.server.send(message);\n          })\n          .catch((err) => {\n            throw new Error(err);\n          });\n\n        break;\n\n      case '/game':\n        message = createMessageBody(\n          'bot',\n          [{ type: 'text', body: this.random(this.games) }],\n          this.botname\n        );\n        this.server.send(message);\n        break;\n\n      default:\n        message = createMessageBody(\n          'bot',\n          [\n            {\n              type: 'text',\n              body: 'К сожалению, данная команда пока что не доступна мне. Попробуй еще раз написать точнее :)',\n            },\n          ],\n          this.botname\n        );\n\n        this.server.send(message);\n    }\n  }\n\n  greet() {\n    const message = {\n      greet: true,\n      usertype: 'bot',\n      botname: this.botname,\n      content: [{ type: 'text', body: this.description }],\n    };\n\n    this.server.send(JSON.stringify(message));\n  }\n\n  random(arr) {\n    const randomIndex = Math.floor(Math.random() * arr.length);\n    return arr[randomIndex];\n  }\n}\n","// обработчик события добавления файлов\n\nexport default function changeHandler(event, popup, eventName = 'change') {\n  const data = eventName === 'drop' ? event.dataTransfer : event.target;\n  if (!data.files.length) {\n    return;\n  }\n\n  const files = Array.from(data.files);\n  files.forEach((file) => {\n\n    const reader = new FileReader();\n\n    reader.onload = (ev) => {\n      const src = ev.target.result;\n\n      if (!document.querySelector('.add-file-popup')) {\n        document.body.appendChild(popup.render());\n        popup.addFile(file, src);\n      } else {\n        popup.addFile(file, src);\n      }\n    };\n\n    reader.readAsDataURL(file);\n  });\n}\n","import changeHandler from './changeHandler';\n\n// обработка событий движения мыши в области добавления файла\n\nexport default function dragndropAddListeners(target, popup) {\n  target.addEventListener('dragover', (event) => {\n    event.preventDefault();\n    const dragArea = event.currentTarget.querySelector('.droparea');\n    dragArea.classList.remove(null);\n  });\n  target.addEventListener('dragleave', (event) => {\n    const dragArea = event.currentTarget.querySelector('.droparea');\n    dragArea.classList.add(null);\n  });\n  target.addEventListener('drop', (event) => {\n    event.preventDefault();\n\n    const dragArea = event.currentTarget.querySelector('.droparea');\n    if (!dragArea) return;\n\n    changeHandler(event, popup, 'drop');\n    dragArea.classList.add(null);\n  });\n}\n","// объявление необходимых констант\n\nimport Loader from './Loader';\nconst messageForm = document.getElementById('message-form'),\n  typeMessageInput = document.getElementById('type-message'),\n  chatContainer = document.querySelector('.messanger__chat-container'),\n  chat = document.getElementById('chat'),\n  addFileInput = document.getElementById('add-file-input'),\n  addFileBtn = document.getElementById('add-file-btn'),\n  loader = new Loader(),\n  mediaButtons = document.querySelector('.messanger__composer-btns'),\n  mediaControllers = document.querySelector('.messanger__record-media'),\n  recAudioBtn = document.getElementById('rec-audio-btn'),\n  recVideoBtn = document.getElementById('rec-video-btn'),\n  clearMediaBtn = document.getElementById('clear-media-btn'),\n  sendMediaBtn = document.getElementById('send-media-btn'),\n  mediaTimer = document.getElementById('media-timer'),\n  searchForm = document.getElementById('search-form'),\n  searchInput = document.getElementById('search-message'),\n  noResultAlarm = document.querySelector('.messanger__no-search'),\n  showFavoriteBtn = document.getElementById('show-favorite-btn'),\n  sendGeoBtn = document.getElementById('send-geo-btn');\n\nexport {\n  messageForm,\n  typeMessageInput,\n  chat,\n  chatContainer,\n  addFileInput,\n  addFileBtn,\n  loader,\n  mediaButtons,\n  mediaControllers,\n  recAudioBtn,\n  recVideoBtn,\n  clearMediaBtn,\n  sendMediaBtn,\n  mediaTimer,\n  searchForm,\n  searchInput,\n  noResultAlarm,\n  showFavoriteBtn,\n  sendGeoBtn,\n};\n","import element from '../utils/element';\n\n// спиннер загрузки при загрузке файлов\n\nexport default class Loader {\n  render() {\n    this.loaderEl = element('div', 'loader');\n    this.loaderEl.innerHTML = `\n  <svg version=\"1.1\" id=\"loader-1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n     width=\"40px\" height=\"40px\" viewBox=\"0 0 50 50\" style=\"enable-background:new 0 0 50 50;\" xml:space=\"preserve\">\n  <path fill=\"#000\" d=\"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z\">\n    <animateTransform attributeType=\"xml\"\n      attributeName=\"transform\"\n      type=\"rotate\"\n      from=\"0 25 25\"\n      to=\"360 25 25\"\n      dur=\"0.6s\"\n      repeatCount=\"indefinite\"/>\n    </path>\n  </svg>`;\n    return this.loaderEl;\n  }\n}\n","import bytesToSize from '../utils/bytesToSIze';\nimport element from '../utils/element';\nimport changeHandler from '../utils/changeHandler';\nimport dragndropAddListeners from '../utils/dragndrop';\nimport icons from './icons';\nimport createMessageBody from '../utils/createMessageBody';\nimport { chat, loader } from './constants';\n\n// popup для добавления и отправки файлов на сервер\n\nexport default class AddFilePopup {\n  constructor(server) {\n    this.server = server;\n    this.content = [];\n  }\n\n  render() {\n    this.popup = element('div', 'add-file-popup');\n    this.popupOverlay = element('div', 'add-file-popup__overlay');\n    this.popup.appendChild(this.popupOverlay);\n\n    this.popupBody = element('div', 'add-file-popup__body');\n    this.popupOverlay.appendChild(this.popupBody);\n    dragndropAddListeners(this.popupBody, this);\n\n    this.popupFiles = element('div', 'add-file-popup__files');\n    this.popupBody.appendChild(this.popupFiles);\n\n    this.popupControllers = element('div', 'add-file-popup__controllers');\n    this.popupBody.appendChild(this.popupControllers);\n\n    this.controllersLeft = element('div', 'controllers__left');\n    this.popupControllers.appendChild(this.controllersLeft);\n\n    this.addFileBtn = element(\n      'button',\n      'controllers__add-btn popup-btn',\n      'add'\n    );\n    this.controllersLeft.appendChild(this.addFileBtn);\n\n    this.addFileInput = element('input', 'controllers__add-input null');\n    this.addFileInput.type = 'file';\n    this.addFileInput.setAttribute('multiple', true);\n    this.controllersLeft.appendChild(this.addFileInput);\n\n    this.addFileBtn.addEventListener('click', () => this.addFileInput.click());\n    this.addFileInput.addEventListener('change', (event) => {\n      changeHandler(event, this);\n      event.currentTarget.value = '';\n    });\n\n    this.controllersRight = element('div', 'controllers__right');\n    this.popupControllers.appendChild(this.controllersRight);\n    this.cancelBtn = element(\n      'button',\n      'controllers__cancel-btn popup-btn',\n      'cancel'\n    );\n    this.controllersRight.appendChild(this.cancelBtn);\n    this.cancelBtn.addEventListener('click', () => this.removeEl(this.popup));\n\n    this.sendBtn = element('button', 'controllers__send-btn popup-btn', 'send');\n    this.controllersRight.appendChild(this.sendBtn);\n    this.sendBtn.addEventListener('click', () => {\n      const message = createMessageBody('person', this.content);\n      this.server.send(message);\n      chat.appendChild(loader.render());\n      this.content = [];\n      this.removeEl(this.popup);\n    });\n\n    this.dragArea = element('div', 'add-file-popup__droparea droparea null');\n    this.dragArea.innerHTML = `<b>Drop files here</b> <br>to send them`;\n    this.popupBody.appendChild(this.dragArea);\n\n    return this.popup;\n  }\n\n  addFile(file, src) {\n    if (!this.popupFiles) return;\n    console.log(file);\n\n    const fileEl = element('div', 'add-file-popup__file file');\n    const fileLeft = element('div', 'file__left');\n    fileEl.appendChild(fileLeft);\n    const fileIcon = element('img', 'file__icon');\n    fileIcon.src = this.checkFileType(file);\n\n    fileLeft.appendChild(fileIcon);\n\n    const fileInfo = element('div', 'file__info');\n    fileLeft.appendChild(fileInfo);\n\n    const fileTitle = element('div', 'file__title', file.name);\n    const fileSize = element('div', 'file__size', bytesToSize(file.size));\n    fileInfo.appendChild(fileTitle);\n    fileInfo.appendChild(fileSize);\n\n    const deleteBtn = element('button', 'file__delete-btn messanger-btn');\n    fileEl.appendChild(deleteBtn);\n    deleteBtn.addEventListener('click', async () => {\n      await this.removeEl(fileEl);\n      if (!this.popupFiles.children.length) {\n        this.cancelBtn.click();\n      }\n    });\n\n    this.popupFiles.appendChild(fileEl);\n    this.content.push({\n      type: file.type.split('/')[0],\n      body: src,\n      filename: file.name,\n    });\n  }\n\n  async removeEl(el) {\n    return new Promise((res, rej) => {\n      el.classList.toggle('removing');\n      setTimeout(() => {\n        el.remove();\n        res(true);\n      }, 400);\n    });\n  }\n\n  checkFileType(file) {\n    if (file.type.match('image')) {\n      return icons.image;\n    } else if (file.type.match('audio')) {\n      return icons.audio;\n    } else if (file.type.match('video')) {\n      return icons.video;\n    } else {\n      return icons.file;\n    }\n  }\n}\n","// конвертирование размера файла\n\nexport default function bytesToSize(bytes) {\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n  if (!bytes) {\n    return '0 Byte';\n  }\n  const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n  return Math.round(bytes / Math.pow(1024, i)) + ' ' + sizes[i];\n}\n","// данные для ответа бота на команды\n\nconst botdata = {\n  greeting: [\n    'Только тебя вспомнил, это к богатству!',\n    'Привет! Как же я тебя ждал!',\n    'Буэнос диас!',\n    'И тебе не хворать :)',\n    'Какие люди и без охраны :)',\n    'Посмотрите-ка, кто здесь?!',\n    'Что новенького?',\n    'Сколько лет, сколько зим!',\n    'Нет ничего лучше, чем встретить старого друга :)',\n    'Aloha!',\n  ],\n  goodbye: [\n    'Да прибудет с тобой сила!',\n    'Hasta la vista, baby!',\n    'Прощай!',\n    'Возвращайся, я буду рад :)',\n    'Если что, я рядом :)',\n    'До связи!',\n    'Я думаю это начало прекрасной дружбы :)',\n    'Я бы поговорил дольше, но ко мне пожаловал старый друг. Прощай!',\n    'До связи!',\n    'Только не сжигай мосты и возвращайся скорее!',\n  ],\n  serials: [\n    'Игра престолов',\n    'Половое воспитание',\n    'Локи',\n    'Острые козырьки',\n    'Видеть',\n    'Во все тяжкие',\n    'Очень странные дела',\n    'Голяк',\n    'Отбросы',\n    'Ход королевы',\n    'Пацаны',\n    '13 причин почему',\n    'Элита',\n    'Бумажный дом',\n    'Игра в кальмара',\n    'Клиника',\n    'Доктор хауc',\n    'Теория большого взрыва',\n    'Тед Лассо',\n    'Защищая Джейкоба',\n    'Дом с прислугой',\n    'Лунный рыцарь',\n    'Остаться в живых',\n    'Ведьмак',\n    'Магическая битва',\n    'Клинок, рассекающий демонов',\n    'Тетрадь смерти',\n  ],\n  games: [\n    'Dota 2',\n    'The Witcher 3',\n    '2k22',\n    'Grand Theft Auto V',\n    'God of War',\n    'Elden Ring',\n    'The Elder Scrolls V: Skyrim',\n    'Aion',\n    'Stray',\n    'Red Dead Redemption 2',\n    'Bioshock Infinite',\n    'Far Cry 3',\n    'Need for Speed: Most Wanted',\n    'Black Desert',\n    'Fortnite',\n    'Path of Exile',\n    'League of Legends',\n    'World of Warcraft',\n    'APEX Legends',\n    'Left 4 Dead',\n    'Blade & Soul',\n    'Forza Horizon 4',\n    'Destiny 2',\n    'Warframe',\n    'Death Stranding',\n  ],\n};\n\nexport default botdata;\n","// динамическая высота тестового поля для воода сообщения\n\nexport default function resize(target, height) {\n  target.style.height = height;\n  target.style.height = target.scrollHeight + 'px';\n}\n","import resize from './resize';\n\n// отправка сообщения боту\n\nexport default function sendMessage(server, messageBody, bot, form, input) {\n  server.send(messageBody);\n  const messageToBot = JSON.parse(messageBody).content.find(\n    (cnt) => cnt.type === 'text'\n  );\n  bot.reply(messageToBot.body);\n  form.reset();\n  resize(input, '50px');\n}\n","import {\n  mediaButtons,\n  mediaControllers,\n  recAudioBtn,\n  recVideoBtn,\n  clearMediaBtn,\n  sendMediaBtn,\n  mediaTimer,\n} from './constants';\nimport element from '../utils/element';\nimport createMessageBody from '../utils/createMessageBody';\n\n// запись аудио- и видеосообщений и отправка их на сервер\n\nexport default class AudioVideoRecorder {\n  constructor(server) {\n    this.server = server;\n  }\n\n  init() {\n    recAudioBtn.addEventListener('click', () => {\n      mediaButtons.classList.add('null');\n      mediaControllers.classList.remove('null');\n      mediaControllers.classList.add('show');\n      this.audioRecorder();\n    });\n\n    recVideoBtn.addEventListener('click', () => {\n      mediaButtons.classList.add('null');\n      mediaControllers.classList.remove('null');\n      mediaControllers.classList.add('show');\n      this.audioRecorder(true);\n    });\n  }\n\n  async audioRecorder(recVideo = false) {\n    if (!navigator.mediaDevices) {\n      throw new Error(\n        'Audio and video recording are not supported by the browser.'\n      );\n      recAudioBtn.disable = true;\n      recVideoBtn.disable = true;\n      return;\n    }\n    try {\n      let save = true;\n      let time = 0;\n      let timer = null;\n\n      if (!window.MediaRecorder) {\n        throw new Error('The browser needs permission to record media.');\n        recAudioBtn.disable = true;\n        recVideoBtn.disable = true;\n        return;\n      }\n\n      recAudioBtn.disable = false;\n      recVideoBtn.disable = false;\n\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true,\n        video: recVideo,\n      });\n\n      if (recVideo) {\n        const preview = element('video', 'video-preview');\n        preview.controls = true;\n        preview.muted = 'muted';\n        preview.srcObject = stream;\n        document.body.appendChild(preview);\n        preview.play();\n      }\n\n      const recorder = new MediaRecorder(stream);\n      const chunks = [];\n\n      recorder.start();\n\n      recorder.addEventListener('start', () => {\n        timer = setInterval(() => {\n          mediaTimer.textContent = this.setTimer(time++);\n        }, 1000);\n      });\n\n      recorder.addEventListener('dataavailable', (evt) => {\n        chunks.push(evt.data);\n      });\n\n      recorder.addEventListener('stop', async () => {\n        clearInterval(timer);\n        mediaTimer.textContent = '00:00';\n        if (save) {\n          let mediaType = 'audio';\n          if (recVideo) {\n            mediaType = 'video';\n          }\n\n          const blob = new Blob(chunks, { type: `${mediaType}/mp4` });\n\n          const fr = new FileReader();\n          fr.readAsDataURL(blob);\n\n          fr.onload = () => {\n            const src = fr.result;\n\n            const message = createMessageBody('person', [\n              {\n                type: mediaType,\n                body: src,\n\t\t\t\tfilename: 'Voice message',\n              },\n            ]);\n            this.server.send(message);\n          };\n        }\n        if (recVideo) {\n          document.querySelector('.video-preview').remove();\n        }\n        mediaControllers.classList.add('null');\n        mediaButtons.classList.remove('null');\n        mediaButtons.classList.add('show');\n      });\n\n      sendMediaBtn.addEventListener('click', () => {\n        recorder.stop();\n        stream.getTracks().forEach((track) => track.stop());\n        save = true;\n      });\n\n      clearMediaBtn.addEventListener('click', () => {\n        recorder.stop();\n        stream.getTracks().forEach((track) => track.stop());\n        save = false;\n      });\n    } catch (e) {\n      throw new Error('The browser needs permission to record media.');\n      recAudioBtn.disable = true;\n      recVideoBtn.disable = true;\n    }\n  }\n\n  setTimer(time) {\n    const minutes = Math.floor(time / 60);\n    const seconds = time - minutes * 60;\n\n    return `${minutes < 10 ? `0${minutes}` : minutes}:${\n      seconds < 10 ? `0${seconds}` : seconds\n    }`;\n  }\n}\n","import Message from './components/Message';\nimport Chatbot from './components/Chatbot';\nimport AddFilePopup from './components/AddFilePopup';\nimport botdata from './components/botdata';\nimport resize from './utils/resize';\nimport changeHandler from './utils/changeHandler';\nimport dragndropAddListeners from './utils/dragndrop';\nimport createMessageBody from './utils/createMessageBody';\nimport sendMessage from './utils/sendMessage';\nimport AudioVideoRecorder from './components/AudioVideoRecorder';\nimport getPosition from './utils/getPosition';\nimport createPinned from './utils/createPinned';\n\nimport {\n  messageForm,\n  typeMessageInput,\n  chat,\n  chatContainer,\n  addFileInput,\n  addFileBtn,\n  loader,\n  searchForm,\n  searchInput,\n  noResultAlarm,\n  showFavoriteBtn,\n  sendGeoBtn,\n} from './components/constants';\n\nwindow.onload = () => {\n  [...document.forms].forEach((form) => form.reset());\n\n  const ws = new WebSocket('wss://young-plains-19005.herokuapp.com/ws');\n  console.log(ws)\n  let allLoaded = false;\n\n  ws.onopen = () => {\n    const botCharlie = new Chatbot('Jarvis the Bot', botdata, ws);\n    ws.send(JSON.stringify({ init: true }));\n    const appRecorder = new AudioVideoRecorder(ws);\n    appRecorder.init();\n    const addPopup = new AddFilePopup(ws);\n    let favoriteShowed = false;\n\n    ws.onmessage = (message) => {\n      if (loader.loaderEl) loader.loaderEl.remove();\n      const data = JSON.parse(message.data);\n      console.log(data);\n      if (data.search || data.init) {\n        if (!data.messages.length) {\n          noResultAlarm.classList.remove('null');\n          noResultAlarm.classList.add('show');\n        } else {\n          noResultAlarm.classList.add('null');\n          noResultAlarm.classList.remove('show');\n        }\n\n        [...chat.children].forEach((el) => el.remove());\n        data.messages.forEach((mes) => {\n          const el = new Message(mes, ws).render();\n          if (mes.content) chat.appendChild(el);\n          el.scrollIntoView({\n            behavior: 'smooth',\n            block: 'start',\n          });\n        });\n      } else if(data.lazyload) {\n        console.log(data.messages);\n        data.messages.forEach((mes) => {\n          const el = new Message(mes, ws).render();\n          if(chat.firstChild) \n          if (mes.content) chat.insertBefore(el, chat.firstChild);\n        });\n      } else if(data.allLoaded) {\n        allLoaded = data.allLoaded;\n      } else if (data.showFavorite) {\n        if (!data.messages.length) {\n          favoriteShowed = false;\n          showFavoriteBtn.classList.remove('showed');\n          return;\n        }\n        favoriteShowed = true;\n        showFavoriteBtn.classList.add('showed');\n        [...chat.children].forEach((el) => el.remove());\n        data.messages.forEach((mes) => {\n          const el = new Message(mes, ws).render();\n          el.querySelector('.message-controllers').classList.add('null');\n          if (mes.content) chat.appendChild(el);\n          el.scrollIntoView({\n            behavior: 'smooth',\n            block: 'start',\n          });\n        });\n      } else if (data.showAll) {\n        [...chat.children].forEach((el) => el.remove());\n        data.messages.forEach((mes) => {\n          favoriteShowed = false;\n          showFavoriteBtn.classList.remove('showed');\n          const el = new Message(mes, ws).render();\n          if (mes.content) chat.appendChild(el);\n          el.scrollIntoView({\n            behavior: 'smooth',\n            block: 'start',\n          });\n        });\n      } else if (data.pinMessage) {\n        if(document.querySelector('.pinned-message')) {\n          document.querySelector('.pinned-message').remove();\n        }\n        chat.insertAdjacentElement(\n          'afterbegin',\n          createPinned(data.message, ws)\n        );\n      } else {\n        const el = new Message(data, ws).render();\n        if (data.content) chat.appendChild(el);\n        el.scrollIntoView({\n          behavior: 'smooth',\n          block: 'start',\n        });\n      }\n    };\n\n    messageForm.addEventListener('submit', function (event) {\n      event.preventDefault();\n      if (typeMessageInput.value === '') {\n        return;\n      }\n      sendMessage(\n        ws,\n        createMessageBody('person', [\n          { type: 'text', body: typeMessageInput.value },\n        ]),\n        botCharlie,\n        this,\n        typeMessageInput\n      );\n    });\n    typeMessageInput.addEventListener('keypress', function (event) {\n      if (event.key === 'Enter' && !event.shiftKey) {\n        event.preventDefault();\n        if (typeMessageInput.value === '') {\n          return;\n        } else {\n          sendMessage(\n            ws,\n            createMessageBody('person', [\n              { type: 'text', body: typeMessageInput.value },\n            ]),\n            botCharlie,\n            this.closest('form'),\n            this\n          );\n        }\n      }\n    });\n    addFileInput.addEventListener('change', (event) => {\n      changeHandler(event, addPopup);\n      event.currentTarget.value = '';\n    });\n    typeMessageInput.addEventListener('input', (event) => {\n      resize(event.target, '50px');\n    });\n    searchForm.addEventListener('submit', function (event) {\n      event.preventDefault();\n      const request = {\n        search: true,\n        value: searchInput.value.toLowerCase(),\n      };\n      ws.send(JSON.stringify(request));\n    });\n    searchInput.addEventListener('input', function () {\n      if (this.value === '') {\n        ws.send(JSON.stringify({ init: true }));\n      }\n      return;\n    });\n    addFileBtn.addEventListener('click', () => {\n      addFileInput.click();\n    });\n    showFavoriteBtn.addEventListener('click', () => {\n      if (favoriteShowed) {\n        ws.send(JSON.stringify({ showAll: true }));\n      } else {\n        ws.send(JSON.stringify({ showFavorite: true }));\n      }\n    });\n    sendGeoBtn.addEventListener('click', () => {\n      getPosition(ws);\n    });\n    chat.addEventListener('scroll', () => {\n      if(!chat.scrollTop && !allLoaded) {\n        ws.send(JSON.stringify({ init: true }))\n      }\n    })\n    dragndropAddListeners(chatContainer, addPopup);\n    document.addEventListener('dragover', (event) => event.preventDefault());\n    document.addEventListener('drop', (event) => event.preventDefault());\n  };\n};\n","// инициализирует отображение закрепленного сообщения\n\nimport element from './element';\nexport default function createPinned(message, server) {\n  const pinnedEl = element('div', 'messanger__pinned pinned-message');\n  const pinnedInfo = element('div', 'pinned-message__info');\n  pinnedEl.appendChild(pinnedInfo);\n\n  const pinnedTitle = element(\n    'span',\n    'pinned-message__title',\n    'Pinned message'\n  );\n  const pinnedContent = element('span', 'pinned-message__content');\n  message.content.forEach((mes) => {\n    if (mes.type === 'text') {\n      pinnedContent.textContent = `${mes.body.substr(0, 50)}...`;\n    } else if (mes.type === 'location') {\n      pinnedContent.textContent = 'Your current location';\n    } else {\n      pinnedContent.textContent = 'Message media';\n    }\n  });\n  pinnedInfo.appendChild(pinnedTitle);\n  pinnedInfo.appendChild(pinnedContent);\n\n  const closeBtn = element('button', 'pinned-message__close messanger-btn');\n  pinnedEl.appendChild(closeBtn);\n\n  pinnedEl.addEventListener('click', (event) => {\n    if (event.target === closeBtn) {\n      return;\n    }\n    document\n      .querySelector('.message-messanger[data-id=\"' + message.id + '\"]')\n      .scrollIntoView({\n        behavior: 'smooth',\n        block: 'start',\n      });\n  });\n\n  closeBtn.addEventListener('click', () => {\n    pinnedEl.remove();\n    server.send(\n      JSON.stringify({\n        unpinMessage: true,\n        pinned: false,\n        id: message.id,\n      })\n    );\n  });\n\n  return pinnedEl;\n}\n","import createMessageBody from './createMessageBody';\n\n// получение координат геопозиции и отправка тела сообщения на сервер\n\nexport default function getPosition(server) {\n  function getCoords(position) {\n    server.send(\n      createMessageBody('person', [\n        {\n          type: 'location',\n          body: `${position.coords.latitude}, ${position.coords.longitude}`,\n        },\n      ])\n    );\n  }\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(getCoords);\n  }\n}\n"],"names":["__webpack_require__","element","tagname","classname","content","el","document","createElement","className","textContent","p","file","image","audio","video","Message","constructor","data","server","this","id","usertype","username","date","Date","favorite","pinned","render","messageEl","classList","add","dataset","messageInfoEl","messageAuthorEl","messageDateEl","formatDate","appendChild","messageContentEl","contentMediaEl","mediaImagesEl","checkType","messagesControllers","pinBtn","favoriteBtn","addEventListener","pin","addToFavorite","contentEl","mediaEl","mediaImages","forEach","type","textEl","innerHTML","body","replace","videoWrapper","videoEl","src","controls","videoLoader","href","download","filename","audioWrapper","audioTitle","audioEl","audioLoader","locationEl","imageWrapper","imageEl","imgLoader","fileWrapper","fileEl","icons","fileTitle","fileLoader","remove","send","JSON","stringify","pinMessage","getHours","getMinutes","createMessageBody","botname","Chatbot","description","greeting","goodbye","serials","games","greet","reply","request","test","message","random","fetch","method","headers","then","res","json","film","items","nameOriginal","posterUrlPreview","catch","err","Error","arr","Math","floor","length","changeHandler","event","popup","eventName","dataTransfer","target","files","Array","from","reader","FileReader","onload","ev","result","querySelector","addFile","readAsDataURL","dragndropAddListeners","preventDefault","currentTarget","dragArea","messageForm","getElementById","typeMessageInput","chatContainer","chat","addFileInput","addFileBtn","loader","loaderEl","mediaButtons","mediaControllers","recAudioBtn","recVideoBtn","clearMediaBtn","sendMediaBtn","mediaTimer","searchForm","searchInput","noResultAlarm","showFavoriteBtn","sendGeoBtn","AddFilePopup","popupOverlay","popupBody","popupFiles","popupControllers","controllersLeft","setAttribute","click","value","controllersRight","cancelBtn","removeEl","sendBtn","console","log","fileLeft","fileIcon","checkFileType","fileInfo","name","fileSize","bytes","i","parseInt","round","pow","bytesToSize","size","deleteBtn","async","children","push","split","Promise","rej","toggle","setTimeout","match","resize","height","style","scrollHeight","sendMessage","messageBody","bot","form","input","messageToBot","parse","find","cnt","reset","AudioVideoRecorder","init","audioRecorder","recVideo","navigator","mediaDevices","save","time","timer","window","MediaRecorder","disable","stream","getUserMedia","preview","muted","srcObject","play","recorder","chunks","start","setInterval","setTimer","evt","clearInterval","mediaType","blob","Blob","fr","stop","getTracks","track","e","minutes","seconds","forms","ws","WebSocket","allLoaded","onopen","botCharlie","botdata","addPopup","favoriteShowed","onmessage","search","messages","mes","scrollIntoView","behavior","block","lazyload","firstChild","insertBefore","showFavorite","showAll","insertAdjacentElement","pinnedEl","pinnedInfo","pinnedTitle","pinnedContent","substr","closeBtn","unpinMessage","createPinned","key","shiftKey","closest","toLowerCase","geolocation","getCurrentPosition","position","coords","latitude","longitude","scrollTop"],"sourceRoot":""}